{% extends "base.html" %}

{% block content %}
<section class="hero">
    <h1>Free UUID API</h1>
    <p>Generate UUIDs easily via our REST API</p>
</section>

<section class="api-docs">
    <div class="card">
        <h2>API Documentation</h2>
        
        <div class="api-intro">
            <p>Our free API allows you to generate UUIDs in your applications. Just make a simple GET request.</p>
            <p>Limit: <strong>{{ config.API_RATE_LIMIT }}</strong> per IP address.</p>
        </div>
        
        <div class="endpoint">
            <h3>Endpoint</h3>
            <pre><code>GET https://{{ request.host }}/api/v1/uuid</code></pre>
        </div>
        
        <div class="parameters">
            <h3>Parameters</h3>
            <table class="param-table">
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Description</th>
                        <th>Possible values</th>
                        <th>Default</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>type</td>
                        <td>Type of UUID to generate</td>
                        <td>v1, v4, v5, v7, guid</td>
                        <td>v4</td>
                    </tr>
                    <tr>
                        <td>count</td>
                        <td>Number of UUIDs to generate</td>
                        <td>1-100</td>
                        <td>1</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="examples">
            <h3>Examples</h3>
            
            <h4>Generate a v4 UUID</h4>
            <pre><code>GET https://{{ request.host }}/api/v1/uuid</code></pre>
            <div class="response">
                <h5>Response</h5>
                <pre><code>{
  "success": true,
  "uuid": "f47ac10b-58cc-4372-a567-0e02b2c3d479"
}</code></pre>
            </div>
            
            <h4>Generate a v1 UUID</h4>
            <pre><code>GET https://{{ request.host }}/api/v1/uuid?type=v1</code></pre>
            <div class="response">
                <h5>Response</h5>
                <pre><code>{
  "success": true,
  "uuid": "550e8400-e29b-11d4-a716-446655440000"
}</code></pre>
            </div>
            
            <h4>Generate a v7 UUID</h4>
            <pre><code>GET https://{{ request.host }}/api/v1/uuid?type=v7</code></pre>
            <div class="response">
                <h5>Response</h5>
                <pre><code>{
  "success": true,
  "uuid": "018f3459-b4a8-7cd1-8a2b-9a5b8e2d1f0c"
}</code></pre>
            </div>

            <h4>Generate multiple UUIDs</h4>
            <pre><code>GET https://{{ request.host }}/api/v1/uuid?count=3</code></pre>
            <div class="response">
                <h5>Response</h5>
                <pre><code>{
  "success": true,
  "count": 3,
  "uuids": [
    "f47ac10b-58cc-4372-a567-0e02b2c3d479",
    "550e8400-e29b-41d4-a716-446655440000",
    "6ba7b810-9dad-11d1-80b4-00c04fd430c8"
  ]
}</code></pre>
            </div>
        </div>
        
        <div class="code-examples">
            <h3>Code Examples</h3>
            
            <div class="tabs-container">
                <div class="tabs">
                    <div class="tab active" data-tab="js">JavaScript</div>
                    <div class="tab" data-tab="python">Python</div>
                    <div class="tab" data-tab="php">PHP</div>
                    <div class="tab" data-tab="java">Java</div>
                </div>
                
                <div class="tab-content">
                    <div class="tab-pane active" id="js-content">
<pre><code>// With fetch API
fetch('https://{{ request.host }}/api/v1/uuid?count=5')
  .then(response => response.json())
  .then(data => {
    console.log(data.uuids);
  })
  .catch(error => console.error('Error:', error));</code></pre>
                    </div>
                    
                    <div class="tab-pane" id="python-content">
<pre><code>import requests

response = requests.get('https://{{ request.host }}/api/v1/uuid?count=5')
data = response.json()
uuids = data['uuids']
print(uuids)</code></pre>
                    </div>
                    
                    <div class="tab-pane" id="php-content">
<pre><code>$response = file_get_contents('https://{{ request.host }}/api/v1/uuid?count=5');
$data = json_decode($response, true);
$uuids = $data['uuids'];
print_r($uuids);</code></pre>
                    </div>
                    
                    <div class="tab-pane" id="java-content">
<pre><code>import java.net.URI;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import org.json.JSONObject;

HttpClient client = HttpClient.newHttpClient();
HttpRequest request = HttpRequest.newBuilder()
        .uri(URI.create("https://{{ request.host }}/api/v1/uuid?count=5"))
        .build();

client.sendAsync(request, HttpResponse.BodyHandlers.ofString())
      .thenApply(HttpResponse::body)
      .thenApply(body -> new JSONObject(body))
      .thenAccept(json -> System.out.println(json.getJSONArray("uuids")))
      .join();</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Styles pour les onglets */
.tabs-container {
    margin-top: 20px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    overflow: hidden;
}

.tabs {
    display: flex;
    background-color: #f8fafc;
    border-bottom: 1px solid #e2e8f0;
}

.tab {
    padding: 12px 20px;
    cursor: pointer;
    font-weight: 500;
    color: #64748b;
    border-bottom: 2px solid transparent;
}

.tab.active {
    color: #4a6cf7;
    border-bottom-color: #4a6cf7;
}

.tab:hover {
    color: #4a6cf7;
}

.tab-content {
    position: relative;
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

.tab-pane pre {
    margin: 0;
    padding: 16px;
    background-color: #1e293b;
    color: #f8fafc;
    overflow-x: auto;
    border-radius: 0;
}
</style>

<script>
// Isolé dans une fonction auto-exécutée pour éviter les conflits
(function() {
    // Attendons que le DOM soit complètement chargé
    document.addEventListener('DOMContentLoaded', function() {
        // Sélectionnons tous les onglets
        const tabs = document.querySelectorAll('.tabs-container .tab');
        
        // Pour chaque onglet, ajoutons un gestionnaire d'événement de clic
        tabs.forEach(tab => {
            tab.addEventListener('click', function() {
                // Supprimons la classe active de tous les onglets
                tabs.forEach(t => t.classList.remove('active'));
                
                // Ajoutons la classe active à l'onglet cliqué
                this.classList.add('active');
                
                // Récupérons l'ID du contenu à afficher
                const tabId = this.getAttribute('data-tab');
                
                // Masquons tous les contenus d'onglet
                const tabPanes = document.querySelectorAll('.tab-pane');
                tabPanes.forEach(pane => pane.classList.remove('active'));
                
                // Affichons le contenu correspondant à l'onglet sélectionné
                document.getElementById(tabId + '-content').classList.add('active');
            });
        });
    });
})();
</script>
{% endblock %} 